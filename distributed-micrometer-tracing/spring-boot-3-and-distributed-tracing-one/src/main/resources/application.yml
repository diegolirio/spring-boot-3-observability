spring:
    application.name: spring-boot-3-and-distributed-tracing-one
    kafka:
        producer.value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
        consumer.value-deserializer: org.apache.kafka.common.serialization.ByteArrayDeserializer
    jmx.enabled: true

server.port: 8079

services:
    apis:
        customer-details: ${CUSTOMER_DETAILS_HOST:http://localhost:8080}

logging:
    pattern:
        level: '%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]'
    level:
        org.apache.http: DEBUG
        httpclient.wire: DEBUG
        org.springframework.web.client.RestTemplate: DEBUG
    log4j.rootLogger: DEBUG, stdout

management:
    endpoints.web.exposure.include: '*'
    tracing:
        sampling.probability: 1.0
        propagation.type: w3c
        enabled: true
        baggage.enabled: true
    metrics:
        distribution.percentiles-histogram.http.server.requests: true
    zipkin.tracing.endpoint: ${ZIPKIN_ENDPOINT:http://localhost:9411/api/v2/spans}


